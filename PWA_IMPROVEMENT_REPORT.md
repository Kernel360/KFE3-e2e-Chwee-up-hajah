### PWA(프로그레시브 웹 앱) 구현 명세 및 개선 보고서

#### 1. PWA (Progressive Web App) 란?

프로그레시브 웹 앱(PWA)은 웹 기술을 기반으로 사용자에게 네이티브 앱과 유사한 경험을 제공하는 최신 웹 애플리케이션 형태입니다. 주요 특징은 다음과 같습니다.

-   **설치 가능**: 사용자는 앱 스토어를 거치지 않고 홈 화면에 직접 앱을 추가할 수 있습니다.
-   **오프라인 작동**: 서비스 워커(Service Worker)를 통해 네트워크 연결이 불안정하거나 없는 환경에서도 기본적인 기능을 사용할 수 있습니다.
-   **앱과 같은 경험**: 푸시 알림, 전체 화면 UI 등 몰입감 높은 사용자 경험을 제공합니다.

본 프로젝트의 `apps/web` 애플리케이션은 PWA 기술을 도입하여 사용자에게 높은 접근성과 향상된 사용성을 제공하는 것을 목표로 합니다.

#### 2. 기존 PWA 구현 명세 (As-Is)

개선 작업 이전, `apps/web`의 PWA는 다음과 같이 구현되어 있었습니다.

-   **사용한 라이브러리**: `next-pwa` (v5.6.0)
-   **주요 설정 (`next.config.ts`)**:
    -   `dest: 'public'`: 서비스 워커 파일이 생성될 위치를 지정합니다.
    -   `register: true`: 페이지 로드 시 서비스 워커를 자동으로 등록합니다.
    -   `skipWaiting: true`: 새로운 버전의 서비스 워커가 설치되면 즉시 활성화합니다.
-   **웹 앱 매니페스트 (`public/manifest.json`)**:
    -   앱 이름(`name`, `short_name`), 표시 방식(`display`), 시작 URL(`start_url`) 등 PWA 설치 및 표시에 필요한 기본 정보가 정의되어 있었습니다.
-   **필수 자산 (Assets)**:
    -   앱 설치 시 사용될 아이콘(`icon192.png`, `icon512.png`)이 `/public` 디렉토리에 포함되어 있었습니다.

#### 3. 분석 및 개선 필요성

기존 구현 상태를 분석한 결과, 다음과 같은 개선 필요성이 도출되었습니다.

-   **핵심 문제: 라이브러리 호환성 및 안정성 부족**
    -   현재 프로젝트는 **Next.js v15**를 사용하고 있으나, 기존 `next-pwa` 라이브러리는 v5.6.0으로, Next.js v13의 App Router 도입 이후 공식적인 유지보수가 활발하지 않은 상태입니다.
    -   이로 인해 최신 Next.js 환경에서 **예기치 않은 빌드 오류가 발생**하거나, **서비스 워커가 비정상적으로 작동**하여 PWA의 핵심 기능(오프라인 캐싱, 푸시 알림 등)에 문제가 생길 수 있는 **심각한 잠재적 위험**을 내포하고 있었습니다.

-   **부가 문제: 플랫폼별 최적화 미흡**
    -   iOS 등 특정 모바일 환경에서 PWA의 주소창 색상, 상태바 스타일 등을 최적화하는 메타 태그가 `layout.tsx`에 누락되어 있어, 플랫폼별 일관된 사용자 경험을 제공하기에 부족했습니다.

#### 4. 개선 조치 내역 (To-Be)

위 분석 결과를 바탕으로 다음과 같이 개선 작업을 진행했습니다.

1.  **PWA 라이브러리 교체**:
    -   안정성과 최신 Next.js 호환성이 검증된 `@ducanh2912/next-pwa` (v10.2.9)로 라이브러리를 교체했습니다.
    -   **실행 명령어**:
        ```bash
        # 기존 라이브러리 제거
        pnpm remove next-pwa
        # 신규 라이브러리 설치
        pnpm add @ducanh2912/next-pwa
        ```
    -   `next.config.ts`의 `import` 구문을 새로운 라이브러리에 맞게 수정했습니다.

2.  **메타 데이터 강화 및 SEO 개선**:
    -   `apps/web/app/layout.tsx`의 `metadata` 객체에 PWA 관련 최적화 태그 및 SEO 정보를 추가했습니다.
    -   **주요 변경 내용**:
        -   `title`, `description`: 서비스에 맞게 명확한 정보로 수정
        -   `themeColor`: PWA의 테마 색상을 지정하여 UI 일관성 확보
        -   `appleWebApp`: iOS 환경에서의 홈 화면 아이콘, 제목, 상태바 스타일을 설정하여 사용자 경험 최적화

#### 5. 결론

이번 개선 작업을 통해 PWA 기능의 **핵심적인 안정성 문제**를 해결하고, 다양한 플랫폼에서의 **사용자 경험을 한 단계 향상**시켰습니다. 이제 `apps/web` 애플리케이션은 최신 Next.js 환경에서 안정적으로 동작하는 PWA로서 사용자에게 더 나은 가치를 제공할 수 있게 되었습니다.